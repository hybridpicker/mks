{% extends "templates/base.html" %}
{% load static %}

{% block tab_id %}id="invitation_tab"{% endblock %}

{% block extra_head %}
<style media="screen">
  /* Fügen Sie hier bei Bedarf zusätzliches Styling hinzu */
</style>
{% endblock %}

{% block navbar %}
{% endblock %}

{% block banner %}
{% endblock %}

{% block body %}
<div class="mbs">
  {% if request.user.is_staff %}
  <div class="container">
    <h2>Anmeldungen nach Veranstaltungstagen</h2>
    {% for event_date, grouped_invitations in invitations_by_date.items %}
    <div class="event-section">
      <h3>Veranstaltung am {{ event_date|date:"d.m.Y" }}</h3>
      <table class="controlling" cellspacing="0" cellpadding="0" width="100%">
        <thead>
          <tr>
            <th>Anmeldedatum</th>
            <th>Name</th>
            <th>E-Mail</th>
          </tr>
        </thead>
        <tbody>
          {% for invitation in grouped_invitations %}
            <tr>
              <td>{{ invitation.timestamp|date:"d.m.Y H:i" }}</td>
              <td>{{ invitation.name }}</td>
              <td>{{ invitation.email }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      <p>Gesamtanzahl für diesen Tag: {{ grouped_invitations|length }}</p>
    </div>
    {% endfor %}
    <p>Gesamtanzahl aller Anmeldungen: <b>{{ total_count }}</b></p>
  </div>
  {% endif %}
  <pre>{{ invitations_by_date }}</pre>

</div>
{% endblock %}

{% block footer %}
<!-- Falls Sie zusätzliches JavaScript benötigen -->
{% endblock %}
